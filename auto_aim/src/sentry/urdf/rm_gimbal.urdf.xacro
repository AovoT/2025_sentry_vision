<?xml version="1.0"?>

<robot name="rm_gimbal"
       xmlns:xacro="http://ros.org/wiki/xacro">

<xacro:property name="xyz" value="${xyz}"/>
<xacro:property name="rpy" value="${rpy}"/>

  <link name="odom" />

  <link name="gimbal_big_link" />

  <joint name="gimbal_joint" type="floating">
    <origin xyz="0 0 0" rpy="0 0 0" />
    <parent link="odom" />
    <child link="gimbal_big_link" />
  </joint>

  <link name="gimbal_left_link" />

  <joint name="gimbal_big_to_gimbal_left_joint" type="continuous">
    <origin xyz="0 0.1 0.05" rpy="0 0 0" />
    <parent link="gimbal_big_link" />
    <child link="gimbal_left_link" />
    <axis xyz="0 0 1" />
  </joint>

  <link name="left_camera_link" />

  <joint name="left_camera_joint" type="fixed">
    <origin xyz="${xyz}" rpy="${rpy}" />
    <parent link="gimbal_left_link" />
    <child link="left_camera_link" />
    <axis xyz="0 0 0" />
  </joint>

  <link name="left_camera_optical_frame" />

  <joint name="left_camera_optical_joint" type="fixed">
    <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708" />
    <parent link="left_camera_link" />
    <child link="left_camera_optical_frame" />
  </joint>

  <link name="gimbal_right_link" />

  <joint name="gimbal_big_to_gimbal_right_joint" type="continuous">
    <origin xyz="0 -0.1 0.05" rpy="0 0 0" />
    <parent link="gimbal_big_link" />
    <child link="gimbal_right_link" />
    <axis xyz="0 0 1" />
  </joint>

  <link name="right_camera_link" />

  <joint name="right_camera_joint" type="fixed">
    <origin xyz="${xyz}" rpy="${rpy}" />
    <parent link="gimbal_right_link" />
    <child link="right_camera_link" />
    <axis xyz="0 0 0" />
  </joint>

  <link name="right_camera_optical_frame" />

  <joint name="right_camera_optical_joint" type="fixed">
    <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708" />
    <parent link="right_camera_link" />
    <child link="right_camera_optical_frame" />
  </joint>

</robot>
